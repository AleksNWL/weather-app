СОДЕРЖАНИЕ

ВВЕДЕНИЕ ................................................................................... 3

1. ОБЩИЕ СВЕДЕНИЯ ........................................................................ 5

   1.1. Описание предметной области ................................................... 5
       1.1.1. Общее описание приложения ................................................ 5
       1.1.2. Целевая аудитория ................................................................ 6
       1.1.3. Предметная область: Метеорология и информационные системы ... 6

   1.2. Функциональные требования к системе ...................................... 7
       1.2.1. Поиск и выбор города (FR1) ................................................ 7
       1.2.2. Получение текущей погоды (FR2) ........................................... 8
       1.2.3. Долгосрочный прогноз (FR3) ................................................. 8
       1.2.4. История запросов (FR4) ........................................................ 8
       1.2.5. Аналитика и статистика (FR5) ............................................... 9
       1.2.6. Поддержка русского языка (FR6) ........................................... 9
       1.2.7. GraphQL API (FR7) ................................................................. 9
       1.2.8. REST API (FR8) .................................................................... 10
       1.2.9. Темная и светлая темы (FR9) ............................................... 10

   1.3. Нефункциональные требования ................................................... 10
       1.3.1. Производительность (NFR1) ................................................... 10
       1.3.2. Масштабируемость (NFR2) .................................................... 11
       1.3.3. Надежность (NFR3) ............................................................... 11
       1.3.4. UI/UX качество (NFR4) ......................................................... 11
       1.3.5. Совместимость (NFR5) .......................................................... 12

   1.4. Ограничения проекта ............................................................... 12
       1.4.1. Технические ограничения ..................................................... 12
       1.4.2. Бизнес-ограничения .............................................................. 13

2. АНАЛИЗ ПРЕДМЕТНОЙ ОБЛАСТИ ........................................................ 14

   2.1. Критерии оценки архитектурных стилей ................................... 14
       2.1.1. Масштабируемость ............................................................... 14
       2.1.2. Производительность ............................................................. 14
       2.1.3. Простота разработки и поддержки ........................................ 15
       2.1.4. Совместимость с выбранными технологиями ............................. 15

   2.2. Анализ архитектурных стилей .................................................. 15
       2.2.1. Монолитная архитектура ....................................................... 15
       2.2.2. Микросервисная архитектура ................................................. 16
       2.2.3. Серверная архитектура (Server-Side Rendering) ...................... 16
       2.2.4. Архитектура с API Gateway ................................................... 17

   2.3. Сравнительный анализ архитектурных стилей ............................ 17
       2.3.1. Таблица сравнения архитектурных стилей ............................... 17
       2.3.2. Анализ компромиссов ........................................................... 18

   2.4. Обоснование выбора архитектуры ............................................ 18
       2.4.1. Выбранная архитектура: Микросервисная с GraphQL ................ 18
       2.4.2. Обоснование выбора ............................................................. 19

3. РАЗРАБОТКА ДИАГРАММ АРХИТЕКТУРЫ ........................................... 20

   3.1. C4 Model - Контекстная диаграмма системы ............................. 20
       3.1.1. System Context (Level 1) ..................................................... 20
       3.1.2. Container Diagram (Level 2) ................................................. 21

   3.2. UML диаграммы компонентов .................................................... 22
       3.2.1. Детальная диаграмма компонентов системы ............................. 22
       3.2.2. Описание основных компонентов ............................................. 23

   3.3. Диаграммы потоков данных (DFD) .............................................. 24
       3.3.1. DFD Level 0 - Контекстная диаграмма ..................................... 24
       3.3.2. DFD Level 1 - Детализация основных процессов ....................... 25

   3.4. ER-диаграмма модели данных ................................................... 26
       3.4.1. Схема коллекции WeatherHistory ............................................ 26
       3.4.2. Описание индексов базы данных ............................................. 27

   3.5. API и контракты между компонентами ....................................... 27
       3.5.1. GraphQL Schema Definition Language (SDL) ............................ 27
       3.5.2. REST API endpoints .............................................................. 28
       3.5.3. Описание взаимодействия между сервисами ............................. 29

   3.6. Схема физической инфраструктуры ........................................... 29
       3.6.1. Docker Compose конфигурация ............................................... 29
       3.6.2. Kubernetes deployment ......................................................... 30
       3.6.3. Описание сетевой топологии .................................................. 31

4. ПАТТЕРНЫ ПРОЕКТИРОВАНИЯ ........................................................ 32

   4.1. Архитектурные паттерны ......................................................... 32
       4.1.1. API Gateway Pattern ............................................................. 32
       4.1.2. Microservices Pattern ........................................................... 33
       4.1.3. MVC (Model-View-Controller) Pattern ..................................... 33
       4.1.4. Cache-Aside Pattern .............................................................. 34
       4.1.5. Event-Driven Analytics ........................................................ 35

   4.2. UI/UX паттерны ....................................................................... 35
       4.2.1. Dark/Light Theme Toggle ....................................................... 35
       4.2.2. Smooth Transitions ............................................................... 36
       4.2.3. Glassmorphism Design ........................................................... 36

   4.3. Анализ применимости паттернов к проекту ............................... 36

5. ОБОСНОВАНИЕ ВЫБОРА ТЕХНОЛОГИЙ ............................................... 38

   5.1. Frontend технологии ............................................................... 38
       5.1.1. React 19.x ........................................................................... 38
       5.1.2. TypeScript ............................................................................ 39
       5.1.3. Fetch API .............................................................................. 39
       5.1.4. Recharts для визуализации .................................................... 40

   5.2. Backend технологии ................................................................. 40
       5.2.1. Node.js и Express.js .............................................................. 40
       5.2.2. GraphQL и Apollo Server ....................................................... 41
       5.2.3. MongoDB и Mongoose ........................................................... 41

   5.3. Инфраструктурные технологии ................................................ 42
       5.3.1. Docker и Docker Compose ...................................................... 42
       5.3.2. Kubernetes для оркестрации .................................................. 42
       5.3.3. Open-Meteo API как внешний источник данных ......................... 43

   5.4. Инструменты разработки ......................................................... 43
       5.4.1. WebStorm IDE ....................................................................... 43
       5.4.2. draw.io для создания диаграмм .............................................. 44
       5.4.3. Git для версионного контроля ................................................ 44

6. РАЗРАБОТКА И РАЗВЕРТЫВАНИЕ .................................................... 45

   6.1. Процесс разработки MVP .......................................................... 45
       6.1.1. Phase 1: Core Weather Functionality ....................................... 45
       6.1.2. Phase 2: Backend Architecture ................................................. 46
       6.1.3. Phase 3: Frontend UI .............................................................. 46
       6.1.4. Phase 4: Infrastructure .......................................................... 47
       6.1.5. Phase 5: UI/UX Polish ............................................................ 47

   6.2. Реализация архитектурных паттернов ...................................... 47
       6.2.1. Реализация API Gateway ........................................................ 47
       6.2.2. Реализация микросервисов ...................................................... 48
       6.2.3. Реализация MVC паттерна ....................................................... 48
       6.2.4. Реализация кэширования ....................................................... 49

   6.3. Развертывание в инфраструктуре ............................................. 49
       6.3.1. Локальная разработка с Docker Compose ................................. 49
       6.3.2. Production deployment в Kubernetes ........................................ 50
       6.3.3. Health checks и мониторинг .................................................... 51

   6.4. Тестирование приложения ........................................................ 51
       6.4.1. Тестирование REST API .......................................................... 51
       6.4.2. Тестирование GraphQL API ...................................................... 52
       6.4.3. Проверка функциональности клиентского приложения ................ 52

ЗАКЛЮЧЕНИЕ ................................................................................ 53

СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ ........................................... 55

ПРИЛОЖЕНИЯ ................................................................................ 57

   Приложение А. GraphQL Schema (SDL) ........................................... 57

   Приложение Б. Docker Compose конфигурация ................................. 59

   Приложение В. Kubernetes манифесты ............................................ 61

   Приложение Г. Примеры запросов к API ........................................... 63

   Приложение Д. Скриншоты интерфейса приложения ......................... 65
